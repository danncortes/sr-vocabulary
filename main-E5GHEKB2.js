import{Ca as f,H as r,Ya as d,k as c,ma as u,mb as h,pb as l,qb as v,rb as C,s,sb as A,tb as p,ub as g,wb as n}from"./chunk-E6OW32GG.js";var R=()=>{let t=r(n),o=r(p);return t.isAuthenticated()?!0:o.parseUrl("/login")};var S=()=>{let t=r(n),o=r(p);return t.isAuthenticated()?o.parseUrl("/dashboard"):!0};var b=[{path:"login",loadComponent:()=>import("./chunk-JPDQAOJY.js").then(t=>t.LoginComponent),canActivate:[S]},{path:"dashboard",loadComponent:()=>import("./chunk-GTIM73PZ.js").then(t=>t.DashboardComponent),canActivate:[R]},{path:"**",redirectTo:"dashboard"}];var H=["expired","Invalid or missing token"],F=(t,o)=>{let e=r(n),a=e.getToken();if(a){let E=t.clone({headers:t.headers.set("Authorization",`Bearer ${a}`)});return o(E).pipe(s(m=>{if(m.status===401){let I=m.error?.error||"";H.some(y=>I.includes(y))&&e.logout()}return c(()=>m)}))}return o(t)};var x={providers:[d({eventCoalescing:!0}),g(b),l(C(),v([F]))]};var i=class t{title="sr-vocabulary";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&f(0,"router-outlet")},dependencies:[A],encapsulation:2})};h(i,x).catch(t=>console.error(t));
