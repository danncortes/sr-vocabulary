import{Bb as n,Ea as f,I as r,bb as d,k as c,oa as u,rb as h,t as s,ub as l,vb as v,wb as C,xb as A,yb as p,zb as g}from"./chunk-MSA3GHZE.js";var R=()=>{let t=r(n),o=r(p);return t.isAuthenticated()?!0:o.parseUrl("/login")};var S=()=>{let t=r(n),o=r(p);return t.isAuthenticated()?o.parseUrl("/dashboard"):!0};var b=[{path:"login",loadComponent:()=>import("./chunk-4GTZ2SYD.js").then(t=>t.LoginComponent),canActivate:[S]},{path:"dashboard",loadComponent:()=>import("./chunk-VAG36ZCD.js").then(t=>t.DashboardComponent),canActivate:[R]},{path:"**",redirectTo:"dashboard"}];var H=["expired","Invalid or missing token"],F=(t,o)=>{let e=r(n),a=e.getToken();if(a){let E=t.clone({headers:t.headers.set("Authorization",`Bearer ${a}`)});return o(E).pipe(s(m=>{if(m.status===401){let I=m.error?.error||"";H.some(y=>I.includes(y))&&e.logout()}return c(()=>m)}))}return o(t)};var x={providers:[d({eventCoalescing:!0}),g(b),l(C(),v([F]))]};var i=class t{title="sr-vocabulary";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&f(0,"router-outlet")},dependencies:[A],encapsulation:2})};h(i,x).catch(t=>console.error(t));
